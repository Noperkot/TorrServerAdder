<!doctype html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>__MSG_help_message__ — __MNF_name__</title>
		<link type="image/png" rel="icon" sizes="48x48" href="../icons/icon48.png">
		<link rel="stylesheet" type="text/css" href="help.css"/>
		<script src="localization.js"></script>
		<script src="../trackers.js"></script>
		<script src="help.js"></script>
	</head>
	<body>
		<header>__MNF_name__ __MNF_version__ — __MSG_help_message__</header>
		<div class="main">
			<div style="width: 100%; display: flex;">
				<img src="../icons/icon48.png">
				<h3>Расширение позволяет добавлять торренты с торрент-трекеров на <a target="_blank" rel="noopener noreferrer" href="https://github.com/YouROK/TorrServer">TorrServer</a> и воспроизводить их с помощью системного медиаплеера.</h3>
			</div>
			<blockquote>
				<p dir="auto">Для работы расширения <strong>!!! НЕОБХОДИМ TORRSERVER !!!</strong> запущенный на локальной машине или в сети (например из клиентского приложения <a target="_blank" rel="noopener noreferrer" href="https://github.com/YouROK/TorrServe"><strong>TorrServe</strong></a> в Android или с использованием <a target="_blank" rel="noopener noreferrer" href="https://github.com/Noperkot/TSL"><strong>TorrServer Launcher</strong></a> в Windows).</p>
			</blockquote>
			<br>
			<div>
				<h3>Функционал</h3>
				<ul>
					<li>Команды контекстного меню (ПКМ на торрент- или магнет-ссылке):</li>
					<ul> 
						<li><b>Добавить на TorrServer</b> — торрент будет добавлен на сервер и станет доступен для воспроизведения клиентами.</li>
						<li><b>Добавить и воспроизвести</b> — торрент также добавляется на сервер, после чего браузер скачивает с сервера плейлист добавленного торрента и открывает его в медиаплеере ПК для воспроизведения.</li>
						<li><b>Воспроизвести без добавления</b> — аналогична предыдущей команде, но после воспроизведения торрент будет удален с сервера.</li>
					</ul> 
					<li>Перехват magnet-ссылок (по клику на ссылке выполняется действие заданное в настройках дополнения).</li>
					<li>Вместе с торрентом на сервер по возможности передается его постер и название (только для <a href="##" id="toggle_lnk">определенных торрент-трекеров</a>).<br>
						<div id="poster_info">
							Для отправки постера необходимо добавлять торрент именно <b>с его страницы</b> (где постер, собственно, и присутствует). <b>TorrServer 1.1</b> принимает постеры отправленные <b>только по МАГНЕТ ссылке</b>.<br>
							Постер будет виден из клиентов (TorrServe, Kodi TorrServer Client), а также в веб-интерфейсе TorrServer MatriX (1.2).<br>
							Если в момент добавления торрента была нажата клавиша <b>Ctrl</b>, то к названию будет добавлен url адрес текущей страницы(только для MatriX). Этот url можно будет увидеть в разделе "ИНФО" торрента в веб-интерфейсе торрсервера или при редактировании(клик по постеру).<br>
							Доступность постера зависит от множества факторов (от изменения разметки страницы до различных блокировок), так что <b>никаких гарантий</b>.
							<p>Перечень трекеров поддерживающих передачу постеров:</p>
							<ul id="trackers"></ul>
						</div>
					</li>
					<li>Система профилей - возможность хранения нескольких независимых наборов настроек. Переключение профилей производится по ЛКМ на иконке расширения.</li>
					<li>Поддержа авторизации</li>
					<li>На странице торрента в КИНОЗАЛ.ТВ отображается magnet-ссылка (только для зарегистрированных на сервисе пользователей).</li>
					<div class="for_chrome"><li>Очистка следов в истории загрузок браузера (не будет засоряться скачанными при воспроизведении плейлистами).</li></div>
					<li>Поддерживаемые версии TorrServer: <b>MatriX, 1.2, 1.1</b></li>
				</ul>
				<h3>Настройка</h3>
				<ul aria-label="">
					<li>Убедитесь, что <b>TorrServer запущен</b> и в браузере открывается его веб-итерфейс. Последнюю версию сервера под вашу платформу можно взять <a target="_blank" rel="noopener noreferrer" href="https://github.com/YouROK/TorrServer/releases/latest">здесь</a>.</li>
					<li>Для воспроизведения необходимо, чтобы ваш медиаплеер был ассоциирован с файлами <b>*.m3u</b></li>
					<li>
						После установки расширения в его настройках укажите сетевой адрес вашего TorrServer'а. Например <b>http://torrserver.lan:8090</b> или <b>http://localhost:8090</b> (если сервер запущен на том же хосте, что и браузер).<br>
						Вместо имени можно использовать IP-адрес ( пример - <b>http://192.168.1.123:8090</b> ).<br>
						Для <b>авторизации</b> (если используется сервером) url должен содержать имя и пароль ( пример - <b>http://username:password@192.168.1.123:8090</b> ).<br>
					</li>
					<li>Выберите действие выполняемое при клике на magnet-ссылке.</li>
					<div class="for_chrome">
						<li>Флаг очистки списка загрузок устанавливать <b>только после того, как вы убедитесь, что при воспроизведении плеер подхватывает плейлист без запроса браузера</b> (при включенной опции будет невозможно выполнить следующий пункт).</li>
					</div>
					<li>
						<p>Чтобы при воспроизведении браузер каждый раз не запрашивал подтверждение на открытие файла плейлиста необходимо:</p>
						<p class="for_firefox"><i>версия Firefox ≥ 98:</i></p>
						<ul>
							<li>после первой загрузки(воспроизведения) в списке закачек браузера из контекстного меню (ПКМ на скачанном <b>.m3u</b> файле) выбрать пункт <b>"Всегда открывать файлы этого типа"</b> (местонахождение этой опции может варьироваться в зависимости от версии браузера).</li>
						</ul>
						<div class="for_firefox"> 
							<p><i>версия Firefox < 98:</i></p>
							<ul>
								<li>установить дополнение <b><a target="_blank" rel="noopener noreferrer" href="https://addons.mozilla.org/firefox/addon/inlinedisposition-reloaded/">InlineDisposition Reloaded</a></b>. Первые пару раз браузер все же может запросить подтверждение — согласиться. Или спросить в каком приложении открыть файл — выбрать ваш медиаплеер.</li>
							</ul>
						</div>
					</li>
					<br>
					<div class="for_firefox">
						<p><i>Дополнительные настройки <b>только для Tor Browser:</b></i></p>
						<li>В качестве адреса TorrServer необходимо указывать <b>IP-адрес</b>.</li>
						<li>Также необходимо отключить прокси для сервера (иначе браузер будет пытаться подключиться к серверу через tor) — about:config -> в строку поиска вставить <b>network.proxy.no_proxies_on</b> -> задать IP-адрес вашего TorrServer (<b>x.x.x.x</b> для адреса в сети или <b>127.0.0.1</b> если сервер работает на том же хосте, что и браузер). После этой операции в браузере должен стать доступен веб-интерфейс сервера (<b>http://x.x.x.x:8090</b>)</li>
					</div>
				</ul>
				<h4>Обсуждение TorrServer'а и всего, что с ним связано:</h4>
				<ul>
					<li><a target="_blank" rel="noopener noreferrer" href="https://4pda.to/forum/index.php?showtopic=889960">на 4PDA</a></li>
					<li><a target="_blank" rel="noopener noreferrer" href="https://t.me/TorrServe">в Telegram</a></li>
				</ul>
				<br>
				<div class="center">
					<a href="watsnew_ru.html">История версий</a>
				</div>
			</div>
		</div>
	</body>
</html>